# æ¤ç‰©æ•°å­—å­ªç”Ÿå¹³å° - é¡¹ç›®åˆå§‹åŒ–æŒ‡å—

## 1. é¡¹ç›®ç»“æ„è®¾è®¡

### 1.1 Monorepoç»“æ„ï¼ˆæ¨èï¼‰

```
Plant-DTP/
â”œâ”€â”€ docs/                          # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ 01-éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦.md
â”‚   â”œâ”€â”€ 02-æŠ€æœ¯æ ˆåˆ†æ.md
â”‚   â”œâ”€â”€ 03-æ•°æ®åº“è®¾è®¡.md
â”‚   â”œâ”€â”€ 04-APIæ¥å£æ–‡æ¡£.md
â”‚   â””â”€â”€ 05-é¡¹ç›®åˆå§‹åŒ–æŒ‡å—.md
â”‚
â”œâ”€â”€ backend/                       # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma         # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ migrations/           # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ seed.ts              # ç§å­æ•°æ®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts             # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ app.ts               # Expressåº”ç”¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ controllers/         # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ routes/              # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ validators/          # æ•°æ®éªŒè¯
â”‚   â”‚   â””â”€â”€ types/               # TypeScriptç±»å‹
â”‚   â”œâ”€â”€ tests/                   # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ .env.example
â”‚
â”œâ”€â”€ frontend/                     # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.tsx             # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ App.tsx              # æ ¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ services/            # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ store/               # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/               # TypeScriptç±»å‹
â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”œâ”€â”€ public/                  # å…¬å…±èµ„æº
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ docker/                      # Dockeré…ç½®
â”‚   â”œâ”€â”€ Dockerfile.frontend
â”‚   â”œâ”€â”€ Dockerfile.backend
â”‚   â””â”€â”€ docker-compose.yml
â”‚
â”œâ”€â”€ scripts/                     # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ setup.sh                # é¡¹ç›®åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ dev.sh                  # å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ deploy.sh               # éƒ¨ç½²è„šæœ¬
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â””â”€â”€ LICENSE
```

---

## 2. ç¯å¢ƒè¦æ±‚

### 2.1 å¿…éœ€è½¯ä»¶

| è½¯ä»¶ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Node.js | >= 18.0.0 | è¿è¡Œæ—¶ç¯å¢ƒ |
| npm | >= 9.0.0 | åŒ…ç®¡ç†å™¨ |
| Git | >= 2.0 | ç‰ˆæœ¬æ§åˆ¶ |
| Docker | >= 20.10 | å®¹å™¨åŒ–ï¼ˆå¯é€‰ï¼‰ |

### 2.2 å¯é€‰è½¯ä»¶

| è½¯ä»¶ | ç”¨é€” |
|------|------|
| PostgreSQL >= 14 | ç”Ÿäº§æ•°æ®åº“ |
| VS Code | æ¨èIDE |
| Thunder Client | APIæµ‹è¯• |

### 2.3 æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬
node --version  # åº”æ˜¾ç¤º v18.x.x æˆ–æ›´é«˜

# æ£€æŸ¥npmç‰ˆæœ¬
npm --version   # åº”æ˜¾ç¤º 9.x.x æˆ–æ›´é«˜

# æ£€æŸ¥Gitç‰ˆæœ¬
git --version
```

---

## 3. åç«¯é¡¹ç›®åˆå§‹åŒ–

### 3.1 åˆ›å»ºåç«¯é¡¹ç›®

```bash
# åˆ›å»ºåç«¯ç›®å½•
mkdir -p backend
cd backend

# åˆå§‹åŒ–package.json
npm init -y

# å®‰è£…æ ¸å¿ƒä¾èµ–
npm install express cors helmet dotenv
npm install @prisma/client
npm install zod bcrypt jsonwebtoken

# å®‰è£…å¼€å‘ä¾èµ–
npm install -D typescript @types/node @types/express @types/cors @types/bcrypt @types/jsonwebtoken
npm install -D prisma ts-node nodemon

# åˆå§‹åŒ–TypeScript
npx tsc --init
```

### 3.2 é…ç½®TypeScript

åˆ›å»º `backend/tsconfig.json`:

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "NodeNext",
    "lib": ["ES2022"],
    "outDir": "./dist",
    "rootDir": "./src",
    "moduleResolution": "NodeNext",
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "strict": true,
    "skipLibCheck": true,
    "resolveJsonModule": true,
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

### 3.3 é…ç½®Prisma

```bash
# åˆå§‹åŒ–Prisma
cd backend
npx prisma init

# é€‰æ‹©æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒé€‰SQLiteï¼Œç”Ÿäº§ç¯å¢ƒé€‰PostgreSQLï¼‰
```

åˆ›å»º `backend/prisma/schema.prisma`ï¼ˆå‚è€ƒæ•°æ®åº“è®¾è®¡æ–‡æ¡£ï¼‰

### 3.4 åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

åˆ›å»º `backend/.env.example`:

```env
# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# æ•°æ®åº“é…ç½®
# SQLiteï¼ˆå¼€å‘ç¯å¢ƒï¼‰
DATABASE_URL="file:./dev.db"

# PostgreSQLï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
# DATABASE_URL="postgresql://user:password@localhost:5432/plant_dtp?schema=public"

# JWTé…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=7d

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880

# æ—¥å¿—é…ç½®
LOG_LEVEL=debug
```

### 3.5 åˆ›å»ºé¡¹ç›®åŸºç¡€æ–‡ä»¶

#### `backend/src/index.ts`

```typescript
import 'dotenv/config';
import app from './app';
import prisma from './config/prisma';

const PORT = process.env.PORT || 3000;

async function main() {
  // è¿æ¥æ•°æ®åº“
  await prisma.$connect();
  console.log('âœ… Database connected');

  // å¯åŠ¨æœåŠ¡å™¨
  app.listen(PORT, () => {
    console.log(`ğŸš€ Server running on http://localhost:${PORT}`);
    console.log(`ğŸ“š API docs: http://localhost:${PORT}/api`);
  });
}

main()
  .catch((err) => {
    console.error('âŒ Error starting server:', err);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
```

#### `backend/src/app.ts`

```typescript
import express, { Request, Response, NextFunction } from 'express';
import cors from 'cors';
import helmet from 'helmet';
import errorHandler from './middleware/errorHandler';
import apiRoutes from './routes';

const app = express();

// ä¸­é—´ä»¶
app.use(helmet());
app.use(cors());
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// å¥åº·æ£€æŸ¥
app.get('/health', (req: Request, res: Response) => {
  res.json({ status: 'ok', timestamp: new Date().toISOString() });
});

// APIè·¯ç”±
app.use('/api', apiRoutes);

// é”™è¯¯å¤„ç†
app.use(errorHandler);

export default app;
```

#### `backend/src/config/prisma.ts`

```typescript
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient({
  log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],
});

export default prisma;
```

### 3.6 æ·»åŠ å¼€å‘è„šæœ¬

ç¼–è¾‘ `backend/package.json`:

```json
{
  "name": "plant-dtp-backend",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "nodemon src/index.ts",
    "build": "tsc",
    "start": "node dist/index.js",
    "db:generate": "prisma generate",
    "db:migrate": "prisma migrate dev",
    "db:seed": "ts-node prisma/seed.ts",
    "db:studio": "prisma studio",
    "test": "jest",
    "lint": "eslint src --ext .ts",
    "format": "prettier --write \"src/**/*.ts\""
  },
  "dependencies": {
    "@prisma/client": "^5.11.0",
    "bcrypt": "^5.1.1",
    "cors": "^2.8.5",
    "dotenv": "^16.4.0",
    "express": "^4.19.0",
    "helmet": "^7.1.0",
    "jsonwebtoken": "^9.0.2",
    "zod": "^3.22.0"
  },
  "devDependencies": {
    "@types/bcrypt": "^5.0.0",
    "@types/cors": "^2.8.13",
    "@types/express": "^4.17.17",
    "@types/jsonwebtoken": "^9.0.2",
    "@types/node": "^20.11.0",
    "nodemon": "^3.1.0",
    "prisma": "^5.11.0",
    "ts-node": "^10.9.2",
    "typescript": "^5.4.0"
  }
}
```

### 3.7 åˆå§‹åŒ–æ•°æ®åº“

```bash
cd backend

# ç”ŸæˆPrisma Client
npm run db:generate

# åˆ›å»ºæ•°æ®åº“è¿ç§»
npm run db:migrate

# å¡«å……åˆå§‹æ•°æ®
npm run db:seed
```

---

## 4. å‰ç«¯é¡¹ç›®åˆå§‹åŒ–

### 4.1 åˆ›å»ºå‰ç«¯é¡¹ç›®

```bash
# ä½¿ç”¨Viteåˆ›å»ºReact + TypeScripté¡¹ç›®
npm create vite@latest frontend -- --template react-ts

cd frontend
npm install
```

### 4.2 å®‰è£…æ ¸å¿ƒä¾èµ–

```bash
cd frontend

# UIç»„ä»¶åº“ï¼ˆé€‰ä¸€ä¸ªï¼‰
# é€‰é¡¹1: Ant Design
npm install antd @ant-design/icons

# é€‰é¡¹2: shadcn/uiï¼ˆæ¨èï¼‰
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
npm install class-variance-authority clsx tailwind-merge
npx shadcn-ui@latest init

# è·¯ç”±
npm install react-router-dom

# çŠ¶æ€ç®¡ç†
npm install zustand

# æ•°æ®è·å–
npm install @tanstack/react-query

# è¡¨å•å¤„ç†
npm install react-hook-form @hookform/resolvers zod

# æ—¥æœŸå¤„ç†
npm install dayjs

# HTTPå®¢æˆ·ç«¯
npm install axios

# å›¾è¡¨åº“ï¼ˆå¯é€‰ï¼‰
npm install recharts
```

### 4.3 é…ç½®TailwindCSS

åˆ›å»º `frontend/tailwind.config.js`:

```javascript
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#f0fdf4',
          100: '#dcfce7',
          200: '#bbf7d0',
          300: '#86efac',
          400: '#4ade80',
          500: '#22c55e',
          600: '#16a34a',
          700: '#15803d',
          800: '#166534',
          900: '#14532d',
        },
      },
    },
  },
  plugins: [],
}
```

### 4.4 é…ç½®Vite

ç¼–è¾‘ `frontend/vite.config.ts`:

```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  server: {
    port: 5173,
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true,
      },
    },
  },
});
```

### 4.5 é…ç½®TypeScript

ç¼–è¾‘ `frontend/tsconfig.json`:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

### 4.6 åˆ›å»ºé¡¹ç›®åŸºç¡€ç»“æ„

```bash
cd frontend/src

# åˆ›å»ºç›®å½•ç»“æ„
mkdir -p pages components hooks services store types utils assets
```

#### `frontend/src/main.tsx`

```typescript
import React from 'react';
import ReactDOM from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import App from './App';
import './index.css';

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      refetchOnWindowFocus: false,
      retry: 1,
    },
  },
});

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <QueryClientProvider client={queryClient}>
      <BrowserRouter>
        <App />
      </BrowserRouter>
    </QueryClientProvider>
  </React.StrictMode>
);
```

#### `frontend/src/App.tsx`

```typescript
import { Routes, Route } from 'react-router-dom';
import Dashboard from './pages/Dashboard';
import Plants from './pages/Plants';
import PlantDetail from './pages/PlantDetail';
import Rooms from './pages/Rooms';
import Layout from './components/Layout';

function App() {
  return (
    <Layout>
      <Routes>
        <Route path="/" element={<Dashboard />} />
        <Route path="/plants" element={<Plants />} />
        <Route path="/plants/:id" element={<PlantDetail />} />
        <Route path="/rooms" element={<Rooms />} />
      </Routes>
    </Layout>
  );
}

export default App;
```

### 4.7 æ·»åŠ å¼€å‘è„šæœ¬

ç¼–è¾‘ `frontend/package.json`:

```json
{
  "name": "plant-dtp-frontend",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "format": "prettier --write \"src/**/*.{ts,tsx}\""
  },
  "dependencies": {
    "@ant-design/icons": "^5.3.0",
    "@hookform/resolvers": "^3.3.0",
    "@tanstack/react-query": "^5.28.0",
    "antd": "^5.15.0",
    "axios": "^1.6.8",
    "dayjs": "^1.11.10",
    "react": "^18.3.0",
    "react-dom": "^18.3.0",
    "react-hook-form": "^7.51.0",
    "react-router-dom": "^6.22.0",
    "zustand": "^4.5.0",
    "zod": "^3.22.0"
  },
  "devDependencies": {
    "@types/react": "^18.3.0",
    "@types/react-dom": "^18.3.0",
    "@typescript-eslint/eslint-plugin": "^7.7.0",
    "@typescript-eslint/parser": "^7.7.0",
    "@vitejs/plugin-react": "^4.2.0",
    "autoprefixer": "^10.4.19",
    "eslint": "^8.57.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.4.6",
    "postcss": "^8.4.38",
    "tailwindcss": "^3.4.0",
    "typescript": "^5.4.0",
    "vite": "^5.2.0"
  }
}
```

---

## 5. Dockeré…ç½®ï¼ˆå¯é€‰ï¼‰

### 5.1 åç«¯Dockerfile

åˆ›å»º `docker/Dockerfile.backend`:

```dockerfile
FROM node:20-alpine AS builder

WORKDIR /app

COPY backend/package*.json ./backend/
RUN cd backend && npm ci

COPY backend/ ./backend/
RUN cd backend && npm run build

FROM node:20-alpine

WORKDIR /app

COPY --from=builder /app/backend/dist ./dist
COPY --from=builder /app/backend/node_modules ./node_modules
COPY --from=builder /app/backend/prisma ./prisma

EXPOSE 3000

CMD ["node", "dist/index.js"]
```

### 5.2 å‰ç«¯Dockerfile

åˆ›å»º `docker/Dockerfile.frontend`:

```dockerfile
FROM node:20-alpine AS builder

WORKDIR /app

COPY frontend/package*.json ./frontend/
RUN cd frontend && npm ci

COPY frontend/ ./frontend/
RUN cd frontend && npm run build

FROM nginx:alpine

COPY --from=builder /app/frontend/dist /usr/share/nginx/html
COPY docker/nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

### 5.3 Docker Compose

åˆ›å»º `docker/docker-compose.yml`:

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:16-alpine
    environment:
      POSTGRES_USER: plantdtp
      POSTGRES_PASSWORD: plantdtp123
      POSTGRES_DB: plant_dtp
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

  backend:
    build:
      context: ..
      dockerfile: docker/Dockerfile.backend
    environment:
      DATABASE_URL: postgresql://plantdtp:plantdtp123@postgres:5432/plant_dtp?schema=public
      PORT: 3000
    depends_on:
      - postgres
    ports:
      - "3000:3000"

  frontend:
    build:
      context: ..
      dockerfile: docker/Dockerfile.frontend
    ports:
      - "80:80"
    depends_on:
      - backend

volumes:
  postgres_data:
```

---

## 6. Gité…ç½®

### 6.1 åˆ›å»º.gitignore

é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.gitignore`:

```gitignore
# Dependencies
node_modules/
.pnp/
.pnp.js

# Build outputs
dist/
build/
*.log

# Environment variables
.env
.env.local
.env.*.local

# Database
*.db
*.db-journal
dev.db

# IDE
.vscode/
.idea/
*.swp
*.swo
*~

# OS
.DS_Store
Thumbs.db

# Uploads
uploads/

# Prisma
prisma/migrations/**/migration.sql
```

### 6.2 åˆ›å»ºREADME.md

```markdown
# æ¤ç‰©æ•°å­—å­ªç”Ÿå¹³å°

ä¸€ä¸ªç”¨äºç®¡ç†å®¶åº­æ¤ç‰©çš„æ•°å­—å­ªç”Ÿç³»ç»Ÿã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ  æˆ¿é—´ç®¡ç†
- ğŸŒ¿ æ¤ç‰©æ¡£æ¡ˆ
- ğŸ’§ å…»æŠ¤æé†’
- ğŸ“Š æ•°æ®ç»Ÿè®¡

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18 + TypeScript
- Vite
- Ant Design / TailwindCSS
- React Router
- TanStack Query

### åç«¯
- Node.js + Express
- TypeScript
- Prisma ORM
- PostgreSQL / SQLite

## å¿«é€Ÿå¼€å§‹

### å¼€å‘ç¯å¢ƒ

1. å…‹éš†é¡¹ç›®
\`\`\`bash
git clone <repository-url>
cd Plant-DTP
\`\`\`

2. å®‰è£…ä¾èµ–
\`\`\`bash
# åç«¯
cd backend && npm install

# å‰ç«¯
cd ../frontend && npm install
\`\`\`

3. é…ç½®ç¯å¢ƒå˜é‡
\`\`\`bash
cd backend
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶
\`\`\`

4. åˆå§‹åŒ–æ•°æ®åº“
\`\`\`bash
npm run db:migrate
npm run db:seed
\`\`\`

5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
\`\`\`bash
# åç«¯ï¼ˆç«¯å£3000ï¼‰
cd backend && npm run dev

# å‰ç«¯ï¼ˆç«¯å£5173ï¼‰
cd frontend && npm run dev
\`\`\`

### Dockeréƒ¨ç½²

\`\`\`bash
docker-compose -f docker/docker-compose.yml up -d
\`\`\`

## é¡¹ç›®æ–‡æ¡£

- [éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦](./docs/01-éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦.md)
- [æŠ€æœ¯æ ˆåˆ†æ](./docs/02-æŠ€æœ¯æ ˆåˆ†æ.md)
- [æ•°æ®åº“è®¾è®¡](./docs/03-æ•°æ®åº“è®¾è®¡.md)
- [APIæ¥å£æ–‡æ¡£](./docs/04-APIæ¥å£æ–‡æ¡£.md)
- [é¡¹ç›®åˆå§‹åŒ–æŒ‡å—](./docs/05-é¡¹ç›®åˆå§‹åŒ–æŒ‡å—.md)

## License

MIT
```

---

## 7. å¼€å‘æµç¨‹å»ºè®®

### 7.1 åˆ†æ”¯ç®¡ç†

```bash
main          # ä¸»åˆ†æ”¯ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
â”œâ”€â”€ develop   # å¼€å‘åˆ†æ”¯
â”œâ”€â”€ feature/* # åŠŸèƒ½åˆ†æ”¯
â””â”€â”€ fix/*     # ä¿®å¤åˆ†æ”¯
```

### 7.2 æäº¤è§„èŒƒ

ä½¿ç”¨ Conventional Commits:

```bash
feat: æ·»åŠ æ¤ç‰©å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
fix: ä¿®å¤å…»æŠ¤è®°å½•æ—¶é—´è®¡ç®—é”™è¯¯
docs: æ›´æ–°APIæ–‡æ¡£
style: ä»£ç æ ¼å¼åŒ–
refactor: é‡æ„æ¤ç‰©æœåŠ¡å±‚
test: æ·»åŠ å•å…ƒæµ‹è¯•
chore: æ›´æ–°ä¾èµ–
```

### 7.3 ä»£ç æ£€æŸ¥å·¥å…·

#### ESLinté…ç½®ï¼ˆåç«¯ï¼‰

```bash
npm install -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin
```

åˆ›å»º `backend/.eslintrc.json`:

```json
{
  "parser": "@typescript-eslint/parser",
  "extends": [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended"
  ],
  "plugins": ["@typescript-eslint"],
  "env": {
    "node": true,
    "es2022": true
  }
}
```

#### Prettieré…ç½®

```bash
npm install -D prettier
```

åˆ›å»º `.prettierrc`:

```json
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100
}
```

---

## 8. æµ‹è¯•é…ç½®

### 8.1 åç«¯æµ‹è¯•

```bash
npm install -D jest ts-jest @types/jest
```

åˆ›å»º `backend/jest.config.js`:

```javascript
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  roots: ['<rootDir>/src', '<rootDir>/tests'],
  testMatch: ['**/__tests__/**/*.test.ts'],
  collectCoverageFrom: [
    'src/**/*.ts',
    '!src/**/*.d.ts',
  ],
};
```

### 8.2 å‰ç«¯æµ‹è¯•

```bash
npm install -D vitest @testing-library/react @testing-library/jest-dom
```

---

## 9. éƒ¨ç½²æ¸…å•

### 9.1 ç”Ÿäº§ç¯å¢ƒæ£€æŸ¥

- [ ] ä¿®æ”¹JWTå¯†é’¥
- [ ] ä½¿ç”¨PostgreSQL
- [ ] é…ç½®HTTPS
- [ ] è®¾ç½®ç¯å¢ƒå˜é‡NODE_ENV=production
- [ ] é…ç½®CORSç™½åå•
- [ ] è®¾ç½®æ–‡ä»¶ä¸Šä¼ é™åˆ¶
- [ ] é…ç½®æ—¥å¿—çº§åˆ«
- [ ] æ•°æ®åº“å¤‡ä»½ç­–ç•¥
- [ ] ç›‘æ§å’Œå‘Šè­¦

### 9.2 éƒ¨ç½²è„šæœ¬

åˆ›å»º `scripts/deploy.sh`:

```bash
#!/bin/bash

echo "ğŸš€ Starting deployment..."

# æ„å»ºå‰ç«¯
echo "ğŸ“¦ Building frontend..."
cd frontend
npm run build
cd ..

# æ„å»ºåç«¯
echo "ğŸ“¦ Building backend..."
cd backend
npm run build
cd ..

# é‡å¯æœåŠ¡ï¼ˆä½¿ç”¨PM2ï¼‰
echo "ğŸ”„ Restarting services..."
pm2 restart plant-dtp-backend
pm2 restart plant-dtp-frontend

echo "âœ… Deployment completed!"
```

---

## 10. å¸¸è§é—®é¢˜

### Q1: Prismaè¿ç§»å¤±è´¥

```bash
# é‡ç½®æ•°æ®åº“
npm run db:migrate -- --force-reset

# é‡æ–°ç”Ÿæˆå®¢æˆ·ç«¯
npm run db:generate
```

### Q2: å‰ç«¯ä»£ç†ä¸å·¥ä½œ

æ£€æŸ¥ `vite.config.ts` ä¸­çš„proxyé…ç½®ï¼Œç¡®ä¿åç«¯å·²å¯åŠ¨ã€‚

### Q3: TypeScriptç±»å‹é”™è¯¯

```bash
# é‡æ–°ç”Ÿæˆç±»å‹
cd backend
npm run db:generate
```

### Q4: Dockeræ„å»ºå¤±è´¥

```bash
# æ¸…ç†Dockerç¼“å­˜
docker system prune -a

# é‡æ–°æ„å»º
docker-compose build --no-cache
```

---

## 11. ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### Week 1: ç¯å¢ƒæ­å»º
- [x] é˜…è¯»æ‰€æœ‰æ–‡æ¡£
- [ ] åˆå§‹åŒ–é¡¹ç›®ç»“æ„
- [ ] é…ç½®å¼€å‘ç¯å¢ƒ
- [ ] åˆå§‹åŒ–æ•°æ®åº“

### Week 2-3: åç«¯å¼€å‘
- [ ] å®ç°æˆ¿é—´ç®¡ç†API
- [ ] å®ç°æ¤ç‰©ç®¡ç†API
- [ ] å®ç°å…»æŠ¤è®°å½•API
- [ ] å®ç°ä»»åŠ¡æé†’API

### Week 4: å‰ç«¯å¼€å‘
- [ ] å®ç°å¸ƒå±€ç»„ä»¶
- [ ] å®ç°æˆ¿é—´ç®¡ç†é¡µé¢
- [ ] å®ç°æ¤ç‰©åˆ—è¡¨å’Œè¯¦æƒ…é¡µ
- [ ] å®ç°å…»æŠ¤è®°å½•é¡µé¢

### Week 5: æµ‹è¯•å’Œä¼˜åŒ–
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] Bugä¿®å¤
- [ ] æ–‡æ¡£å®Œå–„

---

## 12. å‚è€ƒèµ„æº

- [Reactå®˜æ–¹æ–‡æ¡£](https://react.dev)
- [TypeScriptæ‰‹å†Œ](https://www.typescriptlang.org/docs/)
- [Prismaæ–‡æ¡£](https://www.prisma.io/docs)
- [Expressæœ€ä½³å®è·µ](https://expressjs.com/en/advanced/best-practice-security.html)
- [TailwindCSSæ–‡æ¡£](https://tailwindcss.com/docs)
- [Ant Designç»„ä»¶åº“](https://ant.design)

---

## 13. è·å–å¸®åŠ©

- æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£ï¼š`docs/`ç›®å½•
- æŸ¥çœ‹APIæ–‡æ¡£ï¼š`docs/04-APIæ¥å£æ–‡æ¡£.md`
- æäº¤Issueï¼šGitHub Issues
- è®¨è®ºäº¤æµï¼šGitHub Discussions

ç¥å¼€å‘é¡ºåˆ©ï¼ğŸŒ¿
