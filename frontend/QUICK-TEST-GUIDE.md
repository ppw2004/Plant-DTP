# 前端快速测试指南

## 服务状态

- ✅ 前端开发服务器：http://localhost:12802
- ✅ 后端 API 服务器：http://localhost:12801
- ✅ API 文档：http://localhost:12801/docs

## 修改完成的内容

已将前端从 `camelCase` 命名规范修改为与后端一致的 `snake_case` 规范，包括：

### 修改的文件（19个）

1. **类型定义** - `src/types/api.ts` - 所有接口字段
2. **服务层** - 4个服务文件
3. **组件** - 6个组件文件
4. **Store** - `src/store/uiStore.ts`
5. **页面** - `src/pages/Plants.tsx` 和 `src/pages/Rooms.tsx`

## 快速功能测试

### 1. 访问前端
打开浏览器访问：http://localhost:12802

### 2. 测试房间管理
1. 点击左侧菜单 "房间"
2. 点击 "添加房间" 按钮
3. 填写表单：
   - 房间名称：测试客厅
   - 位置类型：室内
   - 图标：🛋️
   - 颜色：选择任意颜色
4. 点击 "创建"
5. ✅ 验证：房间列表中应显示新创建的房间

### 3. 测试植物管理
1. 点击左侧菜单 "植物"
2. 点击 "添加植物" 按钮
3. 填写表单：
   - 植物名称：绿萝
   - 学名：Epipremnum aureum（可选）
   - 所属房间：选择刚才创建的房间
   - 健康状态：健康
4. 点击 "创建"
5. ✅ 验证：植物列表中应显示新创建的植物

### 4. 测试筛选功能
1. 在植物页面，尝试使用：
   - 搜索框：输入植物名称
   - 房间筛选：选择特定房间
   - 健康状态筛选：选择健康状态
2. ✅ 验证：列表应根据筛选条件更新

### 5. 测试 Dashboard
1. 点击左侧菜单 "仪表板"
2. ✅ 验证：
   - 总房间数显示正确
   - 总植物数显示正确
   - 今日任务数显示
   - 逾期任务数显示

### 6. 测试任务页面
1. 点击左侧菜单 "任务"
2. ✅ 验证：
   - 显示三个统计卡片
   - 可以切换三个标签页查看不同任务

## 预期结果

### ✅ 应该正常工作的功能

1. **房间管理** - 创建、查看、编辑、删除房间
2. **植物管理** - 创建、查看、编辑、删除植物
3. **筛选功能** - 按房间、健康状态、名称筛选植物
4. **Dashboard** - 显示统计数据
5. **任务查看** - 查看各类任务列表

### ⚠️ 可能需要进一步测试的功能

1. **图片管理** - 添加图片、设置主图、删除图片
2. **配置管理** - 创建和编辑养护配置（字段模型有差异）
3. **任务完成** - 标记任务为已完成

## 常见问题排查

### 问题 1: 创建植物失败
**症状**: 点击创建后显示错误
**排查**:
1. 打开浏览器开发者工具 (F12)
2. 查看 Console 标签页是否有错误信息
3. 查看 Network 标签页，找到创建植物的请求，查看响应

**可能原因**:
- 未先创建房间
- 后端服务未运行

### 问题 2: Dashboard 数据不显示
**症状**: 统计数据显示为 0
**排查**:
1. 确认后端服务正在运行
2. 打开 Network 标签页，检查 5 个 API 请求是否都成功
3. 查看 Console 是否有错误

### 问题 3: 页面空白
**症状**: 浏览器显示空白页面
**排查**:
1. 确认前端开发服务器正在运行
2. 清除浏览器缓存并刷新
3. 查看 Console 是否有 JavaScript 错误

## API 测试命令

```bash
# 测试房间 API
curl -X GET http://localhost:12801/api/v1/rooms/

# 测试植物 API
curl -X GET http://localhost:12801/api/v1/plants/

# 测试任务 API
curl -X GET http://localhost:12801/api/v1/tasks/today
```

## 开发者工具

### Network 标签页
1. 打开开发者工具 (F12)
2. 切换到 Network 标签页
3. 刷新页面
4. 查看所有 API 请求的：
   - 请求 URL
   - 请求方法 (GET/POST/PATCH/DELETE)
   - 请求体 (对于 POST/PATCH)
   - 响应状态码
   - 响应数据

### Console 标签页
查看是否有 JavaScript 错误或警告信息

## 下一步

如果所有基础功能测试通过，可以：

1. 测试图片上传功能
2. 实现配置管理界面（需要适配后端数据模型）
3. 添加任务完成功能
4. 优化 UI/UX
5. 添加数据验证和错误处理

## 联系方式

如遇到问题，请检查：
1. 后端服务是否正常运行
2. 前端开发服务器是否正常运行
3. 浏览器 Console 中的错误信息
4. Network 标签页中的 API 请求和响应
